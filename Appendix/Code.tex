\documentclass[12pt]{report}
\usepackage{StyleSheets/main}
\begin{document}

\pagestyle{code} % Removes footer line 
\thispagestyle{code} % Overrides the chapter "plain" style

\chapter{Code}\label{ap:code}

\section{main.ino}
\lstinputlisting[language=cpp,  caption={main.ino}, label=lst:main-h]{code/main/main.ino}


\section{ObstacleAvoidance.h}
\lstinputlisting[language=cpp,  caption={ObstacleAvoidance.h}, label=lst:obstacleavoidance-h]{code/main/ObstacleAvoidance.h}

\section{PickupPlace.h}
\lstinputlisting[language=cpp,  caption={PickupPlace.h}, label=lst:pickupplace-h]{code/main/PickupPlace.h}

\section{Initialization.h}
\lstinputlisting[language=cpp,  caption={Initialization.h}, label=lst:initialization-h]{code/main/Initialization.h}

\section{LineFollowing.h}
\lstinputlisting[language=cpp,  caption={LineFollowing.h}, label=lst:linefollowing-h]{code/main/LineFollowing.h}

\section{Motion.h}
\lstinputlisting[language=cpp,  caption={Motion.h}, label=lst:motion-h]{code/main/Motion.h}

\section{Sensors}

\subsection{Button.h}
\lstinputlisting[language=cpp,  caption={Button.h}, label=lst:button-h]{code/main/sensors/Button.h}

\subsection{ColorSensor.h}
\lstinputlisting[language=cpp,  caption={ColorSensor.h}, label=lst:colorsensor-h]{code/main/sensors/ColorSensor.h}

\subsection{IRSensorArray.h}
\lstinputlisting[language=cpp,  caption={IRSensorArray.h}, label=lst:irsensorarray-h]{code/main/sensors/IRSensorArray.h}

\subsection{Motor.h}
\lstinputlisting[language=cpp,  caption={Motor.h}, label=lst:motor-h]{code/main/sensors/Motor.h}

\subsection{MWServo.h}
\lstinputlisting[language=cpp,  caption={MWServo.h}, label=lst:mwservo-h]{code/main/sensors/MWServo.h}

\subsection{UltraSonic.h}
\lstinputlisting[language=cpp,  caption={UltraSonic.h}, label=lst:ultrasonic-h]{code/main/sensors/UltraSonic.h}

\section{Controls}
\subsection{PIDController.h}
\lstinputlisting[language=cpp,  caption={PIDController.h}, label=lst:pidcontroller-h]{code/main/controls/PIDController.h}

\subsection{Utils.h}
\lstinputlisting[language=cpp,  caption={Utils.h}, label=lst:utils-h]{code/main/controls/Utils.h}

\section{BoxControl.h}
\lstinputlisting[language=cpp,  caption={BoxControl.h}, label=lst:boxcontrol-h]{code/main/BoxControl.h}


\pagestyle{fancy} % Defaults to normal headers & footers

\end{document}
